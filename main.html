<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="./node_modules/font-awesome/css/font-awesome.min.css">
    <title>electronizr</title>
</head>

<body>
    <div id="root">

        <link rel="stylesheet" :href="colorThemePath">

        <div class="user-input-container">
            <input id="user-input" class="user-input" type="text" v-model="userInput" ref="input" v-on:keyDown="handleKeyPress" :autofocus="{ true: focusOnInput }">
            <i id="search-icon" class="fa fa-search" aria-hidden="true"></i>
        </div>

        <div class="output-container">

            <div class="search-result">
                <ul class="search-result-list">
                    <li v-for="item in searchResult" :class="{ 'active': item.isActive }" :id="item.id">
                        <div class="icon-container">
                            <i :class="item.icon"></i>
                        </div>
                        <div class="text-container">
                            <span class="name">{{ item.name }}</span>
                            <span class="exec-args">{{ item.execArg }}</span>
                        </div>
                    </li>
                </ul>
            </div>

            <div class="execute-output" :class="{ 'hidden' : hideExecuteOutput }">
                <pre>{{ executeOutput }}</pre>
            </div>

            <div v-html="filePreview" class="file-preview" :class="{ 'hidden' : hideFilePreview }">
            </div>

            <div class="config" :class="{ 'hidden' : hideConfig }">

                <div class="config-item">
                    <h3>Plugins</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>Plugin</th>
                                <th>Active</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr style="border-bottom: 1px solid white;" v-for="plugin in config.plugins">
                                <td>{{ plugin.name }}</td>
                                <td>
                                    <input type="checkbox" v-model="plugin.active">
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <hr>

                <div class="config-item">
                    <h3>Keyboard shortcut</h3>
                    <select v-model="config.keyboardShortcut">
                        <option>alt+space</option>
                        <option>shift+space</option>
                    </select>
                </div>
                <hr>

                <div class="config-item">
                    <h3>Window size</h3>
                    <div class="form-item" :class="{ 'hidden' : config.fullscreen }">
                        <label>Width</label>
                        <input type="number" v-model="config.size.width" class="new-item">
                    </div>
                    <div class="form-item" :class="{ 'hidden' : config.fullscreen }">
                        <label>Height</label>
                        <input type="number" v-model="config.size.height" class="new-item">
                    </div>
                    <div class="form-item">
                        <label>Zoom factor</label>
                        <input type="number" max="3" min="0.1" step="0.05" v-model="config.zoomFactor" class="new-item">
                    </div>
                    <div class="form-item">
                        <label>Fullscreen</label>
                        <input type="checkbox" v-model="config.fullscreen" class="new-item">
                    </div>
                </div>
                <hr>

                <div class="config-item">
                    <h3>Color Theme</h3>
                    <select v-model="colorTheme">
                        <option>osc-dark-blue</option>
                        <option>osc-light-blue</option>
                        <option>atom-one-dark</option>
                        <option>dracula-dark-blue</option>
                        <option>dracula-purple</option>
                        <option>dracula-red</option>
                    </select>
                </div>
                <hr>

                <div class="config-item">
                    <h3>Folders</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>Add/Delete</th>
                                <th>Folder path</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr v-for="folder in config.folders">
                                <td>
                                    <i v-on:click="removeFolder(folder)" class="fa fa-minus-circle action-button"></i>
                                </td>
                                <td>{{ folder }}</td>
                            </tr>
                            <tr>
                                <td>
                                    <i v-on:click="addNewFolder" class="fa fa-plus-circle action-button"></i>
                                </td>
                                <td>
                                    <input class="new-item" type="text" v-model="newFolder" placeholder="Folder path">
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <hr>

                <div class="config-item">
                    <h3>Rescan Interval</h3>
                    <label>Interval to rescan folders (in seconds):</label>
                    <input type="number" step="1" min="1" max="3600" v-model="config.rescanInterval">
                </div>

                <div class="config-item">
                    <h3>Shortcuts</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>Add/Delete</th>
                                <th>Name</th>
                                <th>Shortcut</th>
                                <th>Execution Argument</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr v-for="shortcut in config.customShortcuts">
                                <td>
                                    <i v-on:click="removeCustomShortcut(shortcut)" class="fa fa-minus-circle action-button"></i>
                                </td>
                                <td>{{ shortcut.name }}</td>
                                <td>{{ shortcut.shortCut }}</td>
                                <td>{{ shortcut.execArg }}</td>
                            </tr>
                            <tr>
                                <td>
                                    <i v-on:click="addNewCustomShortcut" class="fa fa-plus-circle action-button"></i>
                                </td>
                                <td>
                                    <input type="new-item" type="text" v-model="newCustomShortcut.name" placeholder="Name">
                                </td>
                                <td>
                                    <input class="new-item" type="text" v-model="newCustomShortcut.shortCut" placeholder="Shortcut">
                                </td>
                                <td>
                                    <input class="new-item" type="text" v-model="newCustomShortcut.execArg" placeholder="Execution Argument">
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <hr>

                <div class="config-item">
                    <h3>Search engines</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>Add/Delete</th>
                                <th>Name</th>
                                <th>Prefix</th>
                                <th>Url</th>
                                <th>Fontawesome icon</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr v-for="webSearch in config.webSearches">
                                <td>
                                    <i v-on:click="removeWebSearch(webSearch)" class="fa fa-minus-circle action-button"></i>
                                </td>
                                <td>{{ webSearch.name }}</td>
                                <td>{{ webSearch.prefix }}</td>
                                <td>{{ webSearch.url }}</td>
                                <td>{{ webSearch.icon }}</td>
                            </tr>
                            <tr>
                                <td>
                                    <i v-on:click="addNewWebSearch" class="fa fa-plus-circle action-button"></i>
                                </td>
                                <td>
                                    <input class="new-item" type="text" v-model="newWebSearch.name">
                                </td>
                                <td>
                                    <input class="new-item" type="text" v-model="newWebSearch.prefix">
                                </td>
                                <td>
                                    <input class="new-item" type="text" v-model="newWebSearch.url">
                                </td>
                                <td>
                                    <input class="new-item" type="text" v-model="newWebSearch.icon">
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <hr>

                <div class="config-item">
                    <h3>Most used</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>Count</th>
                                <th>File path</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr v-for="favorite in config.favorites">
                                <td>{{ favorite.counter }}</td>
                                <td>{{ favorite.path }}</td>
                            </tr>
                        </tbody>
                    </table>
                    <button v-on:click="cleanUpFavorites">
                        <i class="fa fa-trash-o"></i>
                        Clean most used programs
                    </button>
                </div>
                <hr>

                <div class="config-item">
                    <button v-on:click="closeConfig">
                        <i class="fa fa-arrow-left"></i>
                        Go Back
                    </button>
                    <button v-on:click="saveConfig">
                        <i class="fa fa-floppy-o"></i>
                        Save
                    </button>
                </div>
            </div>

        </div>
    </div>

    <script src="./node_modules/vue/dist/vue.min.js"></script>
    <script src="./js/renderer.js"></script>
</body>

</html>